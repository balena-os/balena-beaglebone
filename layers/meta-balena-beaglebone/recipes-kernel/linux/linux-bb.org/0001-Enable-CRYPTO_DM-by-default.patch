From 01b8891f43fc3a45238c3be78868e173cef8aebb Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Lisandro=20P=C3=A9rez=20Meyer?= <lperezmeyer@ics.com>
Date: Mon, 28 Aug 2023 22:07:41 +0000
Subject: [PATCH 1/2] Enable CRYPTO_DM by default.

---
 arch/arm64/configs/bb.org_defconfig | 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

diff --git a/arch/arm64/configs/bb.org_defconfig b/arch/arm64/configs/bb.org_defconfig
index b28206c20726..8a89147cca49 100644
--- a/arch/arm64/configs/bb.org_defconfig
+++ b/arch/arm64/configs/bb.org_defconfig
@@ -774,9 +774,9 @@ CONFIG_MD_MULTIPATH=m
 CONFIG_MD_FAULTY=m
 CONFIG_MD_CLUSTER=m
 CONFIG_BCACHE=m
-CONFIG_BLK_DEV_DM=m
+CONFIG_BLK_DEV_DM=y
 CONFIG_DM_UNSTRIPED=m
-CONFIG_DM_CRYPT=m
+CONFIG_DM_CRYPT=y
 CONFIG_DM_SNAPSHOT=m
 CONFIG_DM_THIN_PROVISIONING=m
 CONFIG_DM_CACHE=m
@@ -2745,6 +2745,8 @@ CONFIG_NFS_V4=y
 CONFIG_NFS_SWAP=y
 CONFIG_NFS_V4_1=y
 CONFIG_NFS_V4_2=y
+CONFIG_PNFS_FILE_LAYOUT=y
+CONFIG_PNFS_BLOCK=y
 CONFIG_ROOT_NFS=y
 CONFIG_NFSD=m
 CONFIG_NFSD_V3_ACL=y
@@ -2838,6 +2840,8 @@ CONFIG_DEFAULT_SECURITY_APPARMOR=y
 CONFIG_LSM="lockdown,yama,loadpin,safesetid,integrity,apparmor,selinux,smack,tomoyo"
 CONFIG_INIT_STACK_NONE=y
 CONFIG_INIT_ON_ALLOC_DEFAULT_ON=y
+CONFIG_CRYPTO_CRYPTD=y
+CONFIG_CRYPTO_AUTHENC=y
 CONFIG_CRYPTO_TEST=m
 CONFIG_CRYPTO_ECDH=y
 CONFIG_CRYPTO_ECHAINIV=y
@@ -2850,6 +2854,7 @@ CONFIG_CRYPTO_DEV_VIRTIO=m
 CONFIG_CRYPTO_DEV_CCREE=m
 CONFIG_CRYPTO_DEV_SA2UL=m
 CONFIG_CRYPTO_DEV_TI_MCRC64=m
+CONFIG_CRYPTO_ESSIV=y
 # CONFIG_RAID6_PQ_BENCHMARK is not set
 CONFIG_PACKING=y
 CONFIG_INDIRECT_PIO=y
-- 
2.25.1

